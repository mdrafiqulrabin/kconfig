FileAST: 
  Typedef: test, [], ['typedef']
    TypeDecl: test, []
      Struct: None
        Decl: mode, [], [], []
          TypeDecl: mode, []
            IdentifierType: ['int']
        Decl: state, [], [], []
          TypeDecl: state, []
            IdentifierType: ['int']
        Decl: num, [], [], []
          TypeDecl: num, []
            IdentifierType: ['int']
        Decl: state_out, [], [], []
          TypeDecl: state_out, []
            IdentifierType: ['int']
        Decl: bits, [], [], []
          PtrDecl: []
            TypeDecl: bits, []
              IdentifierType: ['unsigned', 'char']
        Decl: out, [], [], []
          PtrDecl: []
            TypeDecl: out, []
              IdentifierType: ['char']
  FuncDef: 
    Decl: copy, [], [], []
      FuncDecl: 
        ParamList: 
          Decl: s, [], [], []
            PtrDecl: []
              TypeDecl: s, []
                IdentifierType: ['test']
        TypeDecl: copy, []
          IdentifierType: ['unsigned', 'char']
    Compound: 
      While: 
        Constant: int, 1
        Compound: 
          If: 
            BinaryOp: ==
              StructRef: ->
                ID: s
                ID: mode
              Constant: int, 0
            Break: 
          If: 
            BinaryOp: >=
              StructRef: ->
                ID: s
                ID: state_out
              StructRef: ->
                ID: s
                ID: num
            Break: 
          Assignment: =
            UnaryOp: *
              StructRef: ->
                ID: s
                ID: out
            ArrayRef: 
              StructRef: ->
                ID: s
                ID: bits
              StructRef: ->
                ID: s
                ID: state_out
          If: 
            BinaryOp: ==
              StructRef: ->
                ID: s
                ID: mode
              Constant: int, 0
            UnaryOp: p++
              StructRef: ->
                ID: s
                ID: mode
  FuncDef: 
    Decl: compress, [], [], []
      FuncDecl: 
        ParamList: 
          Decl: in, [], [], []
            PtrDecl: []
              TypeDecl: in, []
                IdentifierType: ['test']
        TypeDecl: compress, []
          IdentifierType: ['unsigned', 'char']
    Compound: 
      Decl: p_in, [], [], []
        TypeDecl: p_in, []
          IdentifierType: ['unsigned', 'char']
      Decl: p_out, [], [], []
        TypeDecl: p_out, []
          IdentifierType: ['unsigned', 'char']
      While: 
        Constant: int, 1
        Compound: 
          If: 
            BinaryOp: ==
              StructRef: ->
                ID: in
                ID: state
              Constant: int, 1
            Compound: 
              Assignment: |=
                ID: p_out
                FuncCall: 
                  ID: copy
                  ExprList: 
                    ID: in
              If: 
                BinaryOp: <
                  StructRef: ->
                    ID: in
                    ID: state_out
                  StructRef: ->
                    ID: in
                    ID: num
                Break: 
      Return: 
        BinaryOp: ||
          ID: p_in
          ID: p_out
