c_files/pr67770.c:19:3: error: function definition is not allowed here
  {
  ^
c_files/pr67770.c:24:11: error: use of undeclared identifier 'bar'
  foo (0, bar);
          ^
c_files/pr67770.c:25:3: warning: implicit declaration of function 'bar' is invalid in C99 [-Wimplicit-function-declaration]
  bar (0);
  ^
c_files/pr67770.c:30:11: warning: incompatible pointer types passing 'int ()' to parameter of type 'void (*)(int) __attribute__((regparm (3)))' [-Wincompatible-pointer-types]
  foo (1, bar);
          ^~~
c_files/pr67770.c:7:51: note: passing argument to parameter 'bar' here
foo (int i, void (* __attribute__ ((regparm (3))) bar) (int))
                                                  ^
2 warnings and 2 errors generated.
TranslationUnitDecl 0x7f95ce8264d0 <<invalid sloc>> <invalid sloc>
|-TypedefDecl 0x7f95ce826a20 <<invalid sloc>> <invalid sloc> implicit __int128_t '__int128'
| `-BuiltinType 0x7f95ce826740 '__int128'
|-TypedefDecl 0x7f95ce826a90 <<invalid sloc>> <invalid sloc> implicit __uint128_t 'unsigned __int128'
| `-BuiltinType 0x7f95ce826760 'unsigned __int128'
|-TypedefDecl 0x7f95ce826d68 <<invalid sloc>> <invalid sloc> implicit __NSConstantString 'struct __NSConstantString_tag'
| `-RecordType 0x7f95ce826b70 'struct __NSConstantString_tag'
|   `-Record 0x7f95ce826ae8 '__NSConstantString_tag'
|-TypedefDecl 0x7f95ce826e00 <<invalid sloc>> <invalid sloc> implicit __builtin_ms_va_list 'char *'
| `-PointerType 0x7f95ce826dc0 'char *'
|   `-BuiltinType 0x7f95ce826560 'char'
|-TypedefDecl 0x7f95ce8270c8 <<invalid sloc>> <invalid sloc> implicit __builtin_va_list 'struct __va_list_tag [1]'
| `-ConstantArrayType 0x7f95ce827070 'struct __va_list_tag [1]' 1 
|   `-RecordType 0x7f95ce826ee0 'struct __va_list_tag'
|     `-Record 0x7f95ce826e58 '__va_list_tag'
|-FunctionDecl 0x7f95d0026d40 <c_files/pr67770.c:6:1, line:10:1> line:7:1 used foo 'void (int, void (*)(int) __attribute__((regparm (3))))'
| |-ParmVarDecl 0x7f95ce827138 <col:6, col:10> col:10 used i 'int'
| |-ParmVarDecl 0x7f95d0026c30 <col:13, col:60> col:51 used bar 'void (*)(int) __attribute__((regparm (3)))'
| |-CompoundStmt 0x7f95d0026f20 <line:8:1, line:10:1>
| | `-CallExpr 0x7f95d0026ed8 <line:9:3, col:9> 'void'
| |   |-ImplicitCastExpr 0x7f95d0026ec0 <col:3> 'void (*)(int) __attribute__((regparm (3)))' <LValueToRValue>
| |   | `-DeclRefExpr 0x7f95d0026e70 <col:3> 'void (*)(int) __attribute__((regparm (3)))' lvalue ParmVar 0x7f95d0026c30 'bar' 'void (*)(int) __attribute__((regparm (3)))'
| |   `-ImplicitCastExpr 0x7f95d0026f08 <col:8> 'int' <LValueToRValue>
| |     `-DeclRefExpr 0x7f95d0026e98 <col:8> 'int' lvalue ParmVar 0x7f95ce827138 'i' 'int'
| `-NoInlineAttr 0x7f95d0026de8 <line:6:17>
|-FunctionDecl 0x7f95d0026f90 <line:12:1, line:37:1> line:13:1 main 'int ()'
| `-CompoundStmt 0x7f95d0028500 <line:14:1, line:37:1>
|   |-DeclStmt 0x7f95d00270c0 <line:15:3, col:12>
|   | `-VarDecl 0x7f95d0027040 <col:3, col:11> col:7 used p 'int' cinit
|   |   `-IntegerLiteral 0x7f95d00270a0 <col:11> 'int' 0
|   |-CallExpr 0x7f95d00273d0 <line:25:3, col:9> 'int'
|   | |-ImplicitCastExpr 0x7f95d00273b8 <col:3> 'int (*)()' <FunctionToPointerDecay>
|   | | `-DeclRefExpr 0x7f95d0027348 <col:3> 'int ()' Function 0x7f95d00272b0 'bar' 'int ()'
|   | `-IntegerLiteral 0x7f95d0027370 <col:8> 'int' 0
|   |-IfStmt 0x7f95d0027638 <line:27:3, line:28:22>
|   | |-<<<NULL>>>
|   | |-<<<NULL>>>
|   | |-BinaryOperator 0x7f95d0027460 <line:27:7, col:12> 'int' '!='
|   | | |-ImplicitCastExpr 0x7f95d0027448 <col:7> 'int' <LValueToRValue>
|   | | | `-DeclRefExpr 0x7f95d0027400 <col:7> 'int' lvalue Var 0x7f95d0027040 'p' 'int'
|   | | `-IntegerLiteral 0x7f95d0027428 <col:12> 'int' 0
|   | |-CallExpr 0x7f95d0027610 <line:28:5, col:22> 'void'
|   | | `-ImplicitCastExpr 0x7f95d00275f8 <col:5> 'void (*)(void) __attribute__((noreturn))' <BuiltinFnToFnPtr>
|   | |   `-DeclRefExpr 0x7f95d00275a0 <col:5> '<builtin fn type>' Function 0x7f95d00274c0 '__builtin_abort' 'void (void) __attribute__((noreturn))'
|   | `-<<<NULL>>>
|   |-CallExpr 0x7f95d00276f8 <line:30:3, col:14> 'void'
|   | |-ImplicitCastExpr 0x7f95d00276e0 <col:3> 'void (*)(int, void (*)(int) __attribute__((regparm (3))))' <FunctionToPointerDecay>
|   | | `-DeclRefExpr 0x7f95d0027670 <col:3> 'void (int, void (*)(int) __attribute__((regparm (3))))' Function 0x7f95d0026d40 'foo' 'void (int, void (*)(int) __attribute__((regparm (3))))'
|   | |-IntegerLiteral 0x7f95d0027698 <col:8> 'int' 1
|   | `-ImplicitCastExpr 0x7f95d0027748 <col:11> 'void (*)(int) __attribute__((regparm (3)))' <BitCast>
|   |   `-ImplicitCastExpr 0x7f95d0027730 <col:11> 'int (*)()' <FunctionToPointerDecay>
|   |     `-DeclRefExpr 0x7f95d00276b8 <col:11> 'int ()' Function 0x7f95d00272b0 'bar' 'int ()'
|   |-CallExpr 0x7f95d0028370 <line:31:3, col:9> 'int'
|   | |-ImplicitCastExpr 0x7f95d0028358 <col:3> 'int (*)()' <FunctionToPointerDecay>
|   | | `-DeclRefExpr 0x7f95d0028310 <col:3> 'int ()' Function 0x7f95d00272b0 'bar' 'int ()'
|   | `-IntegerLiteral 0x7f95d0028338 <col:8> 'int' 1
|   |-IfStmt 0x7f95d0028490 <line:33:3, line:34:22>
|   | |-<<<NULL>>>
|   | |-<<<NULL>>>
|   | |-BinaryOperator 0x7f95d0028400 <line:33:7, col:12> 'int' '!='
|   | | |-ImplicitCastExpr 0x7f95d00283e8 <col:7> 'int' <LValueToRValue>
|   | | | `-DeclRefExpr 0x7f95d00283a0 <col:7> 'int' lvalue Var 0x7f95d0027040 'p' 'int'
|   | | `-IntegerLiteral 0x7f95d00283c8 <col:12> 'int' 2
|   | |-CallExpr 0x7f95d0028468 <line:34:5, col:22> 'void'
|   | | `-ImplicitCastExpr 0x7f95d0028450 <col:5> 'void (*)(void) __attribute__((noreturn))' <BuiltinFnToFnPtr>
|   | |   `-DeclRefExpr 0x7f95d0028428 <col:5> '<builtin fn type>' Function 0x7f95d00274c0 '__builtin_abort' 'void (void) __attribute__((noreturn))'
|   | `-<<<NULL>>>
|   `-ReturnStmt 0x7f95d00284e8 <line:36:3, col:10>
|     `-IntegerLiteral 0x7f95d00284c8 <col:10> 'int' 0
|-FunctionDecl 0x7f95d00272b0 <<invalid sloc>> line:25:3 implicit used bar 'int ()'
`-FunctionDecl 0x7f95d00274c0 <line:28:5> col:5 implicit used __builtin_abort 'void (void) __attribute__((noreturn))' extern
  `-NoThrowAttr 0x7f95d0027558 <col:5> Implicit
