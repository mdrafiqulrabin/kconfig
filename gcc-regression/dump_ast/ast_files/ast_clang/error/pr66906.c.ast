c_files/pr66906.c:26:5: error: function definition is not allowed here
    {
    ^
c_files/pr66906.c:34:3: warning: implicit declaration of function 'bar' is invalid in C99 [-Wimplicit-function-declaration]
  bar ();
  ^
1 warning and 1 error generated.
TranslationUnitDecl 0x7fc4390264d0 <<invalid sloc>> <invalid sloc>
|-TypedefDecl 0x7fc439026a20 <<invalid sloc>> <invalid sloc> implicit __int128_t '__int128'
| `-BuiltinType 0x7fc439026740 '__int128'
|-TypedefDecl 0x7fc439026a90 <<invalid sloc>> <invalid sloc> implicit __uint128_t 'unsigned __int128'
| `-BuiltinType 0x7fc439026760 'unsigned __int128'
|-TypedefDecl 0x7fc439026d68 <<invalid sloc>> <invalid sloc> implicit __NSConstantString 'struct __NSConstantString_tag'
| `-RecordType 0x7fc439026b70 'struct __NSConstantString_tag'
|   `-Record 0x7fc439026ae8 '__NSConstantString_tag'
|-TypedefDecl 0x7fc439026e00 <<invalid sloc>> <invalid sloc> implicit __builtin_ms_va_list 'char *'
| `-PointerType 0x7fc439026dc0 'char *'
|   `-BuiltinType 0x7fc439026560 'char'
|-TypedefDecl 0x7fc4390270c8 <<invalid sloc>> <invalid sloc> implicit __builtin_va_list 'struct __va_list_tag [1]'
| `-ConstantArrayType 0x7fc439027070 'struct __va_list_tag [1]' 1 
|   `-RecordType 0x7fc439026ee0 'struct __va_list_tag'
|     `-Record 0x7fc439026e58 '__va_list_tag'
|-TypedefDecl 0x7fc439027138 <c_files/pr66906.c:4:1, col:13> col:13 referenced ptrdiff_t 'int'
| `-BuiltinType 0x7fc4390265c0 'int'
|-FunctionDecl 0x7fc439825a80 <line:5:13> col:13 implicit used abort 'void (void) __attribute__((noreturn))' extern
|-FunctionDecl 0x7fc439825b18 prev 0x7fc439825a80 <col:1, col:24> col:13 used abort 'void (void) __attribute__((noreturn))' extern
|-FunctionDecl 0x7fc439825d48 <line:6:1, line:13:1> line:7:1 used check_int 'int (int *, int)'
| |-ParmVarDecl 0x7fc439825bf0 <col:12, col:17> col:17 used i 'int *'
| |-ParmVarDecl 0x7fc439825c68 <col:20, col:24> col:24 used align 'int'
| `-CompoundStmt 0x7fc439826230 <line:8:1, line:13:1>
|   |-BinaryOperator 0x7fc439825eb0 <line:9:3, col:8> 'int' '='
|   | |-UnaryOperator 0x7fc439825e70 <col:3, col:4> 'int' lvalue prefix '*'
|   | | `-ImplicitCastExpr 0x7fc439825e58 <col:4> 'int *' <LValueToRValue>
|   | |   `-DeclRefExpr 0x7fc439825e30 <col:4> 'int *' lvalue ParmVar 0x7fc439825bf0 'i' 'int *'
|   | `-IntegerLiteral 0x7fc439825e90 <col:8> 'int' 20
|   |-IfStmt 0x7fc439826168 <line:10:3, line:11:12>
|   | |-<<<NULL>>>
|   | |-<<<NULL>>>
|   | |-BinaryOperator 0x7fc4398260a8 <line:10:7, col:42> 'int' '!='
|   | | |-ParenExpr 0x7fc439826068 <col:7, col:37> 'int'
|   | | | `-BinaryOperator 0x7fc439826040 <col:8, col:36> 'int' '&'
|   | | |   |-ParenExpr 0x7fc439825f78 <col:8, col:22> 'ptrdiff_t':'int'
|   | | |   | `-CStyleCastExpr 0x7fc439825f50 <col:9, col:21> 'ptrdiff_t':'int' <PointerToIntegral>
|   | | |   |   `-ImplicitCastExpr 0x7fc439825f38 <col:21> 'int *' <LValueToRValue>
|   | | |   |     `-DeclRefExpr 0x7fc439825f00 <col:21> 'int *' lvalue ParmVar 0x7fc439825bf0 'i' 'int *'
|   | | |   `-ParenExpr 0x7fc439826020 <col:26, col:36> 'int'
|   | | |     `-BinaryOperator 0x7fc439825ff8 <col:27, col:35> 'int' '-'
|   | | |       |-ImplicitCastExpr 0x7fc439825fe0 <col:27> 'int' <LValueToRValue>
|   | | |       | `-DeclRefExpr 0x7fc439825f98 <col:27> 'int' lvalue ParmVar 0x7fc439825c68 'align' 'int'
|   | | |       `-IntegerLiteral 0x7fc439825fc0 <col:35> 'int' 1
|   | | `-IntegerLiteral 0x7fc439826088 <col:42> 'int' 0
|   | |-CallExpr 0x7fc439826140 <line:11:5, col:12> 'void'
|   | | `-ImplicitCastExpr 0x7fc439826128 <col:5> 'void (*)(void) __attribute__((noreturn))' <FunctionToPointerDecay>
|   | |   `-DeclRefExpr 0x7fc4398260d0 <col:5> 'void (void) __attribute__((noreturn))' Function 0x7fc439825b18 'abort' 'void (void) __attribute__((noreturn))'
|   | `-<<<NULL>>>
|   `-ReturnStmt 0x7fc439826218 <line:12:3, col:11>
|     `-ImplicitCastExpr 0x7fc439826200 <col:10, col:11> 'int' <LValueToRValue>
|       `-UnaryOperator 0x7fc4398261e0 <col:10, col:11> 'int' lvalue prefix '*'
|         `-ImplicitCastExpr 0x7fc4398261c8 <col:11> 'int *' <LValueToRValue>
|           `-DeclRefExpr 0x7fc4398261a0 <col:11> 'int *' lvalue ParmVar 0x7fc439825bf0 'i' 'int *'
|-FunctionDecl 0x7fc4398263c0 <line:14:1, line:19:1> line:15:1 check 'void (void *, int)'
| |-ParmVarDecl 0x7fc439826278 <col:8, col:14> col:14 used p 'void *'
| |-ParmVarDecl 0x7fc4398262f0 <col:17, col:21> col:21 used align 'int'
| `-CompoundStmt 0x7fc4398266d8 <line:16:1, line:19:1>
|   `-IfStmt 0x7fc4398266a0 <line:17:3, line:18:12>
|     |-<<<NULL>>>
|     |-<<<NULL>>>
|     |-BinaryOperator 0x7fc439826610 <line:17:7, col:42> 'int' '!='
|     | |-ParenExpr 0x7fc4398265d0 <col:7, col:37> 'int'
|     | | `-BinaryOperator 0x7fc4398265a8 <col:8, col:36> 'int' '&'
|     | |   |-ParenExpr 0x7fc4398264e0 <col:8, col:22> 'ptrdiff_t':'int'
|     | |   | `-CStyleCastExpr 0x7fc4398264b8 <col:9, col:21> 'ptrdiff_t':'int' <PointerToIntegral>
|     | |   |   `-ImplicitCastExpr 0x7fc4398264a0 <col:21> 'void *' <LValueToRValue>
|     | |   |     `-DeclRefExpr 0x7fc439826468 <col:21> 'void *' lvalue ParmVar 0x7fc439826278 'p' 'void *'
|     | |   `-ParenExpr 0x7fc439826588 <col:26, col:36> 'int'
|     | |     `-BinaryOperator 0x7fc439826560 <col:27, col:35> 'int' '-'
|     | |       |-ImplicitCastExpr 0x7fc439826548 <col:27> 'int' <LValueToRValue>
|     | |       | `-DeclRefExpr 0x7fc439826500 <col:27> 'int' lvalue ParmVar 0x7fc4398262f0 'align' 'int'
|     | |       `-IntegerLiteral 0x7fc439826528 <col:35> 'int' 1
|     | `-IntegerLiteral 0x7fc4398265f0 <col:42> 'int' 0
|     |-CallExpr 0x7fc439826678 <line:18:5, col:12> 'void'
|     | `-ImplicitCastExpr 0x7fc439826660 <col:5> 'void (*)(void) __attribute__((noreturn))' <FunctionToPointerDecay>
|     |   `-DeclRefExpr 0x7fc439826638 <col:5> 'void (void) __attribute__((noreturn))' Function 0x7fc439825b18 'abort' 'void (void) __attribute__((noreturn))'
|     `-<<<NULL>>>
|-TypedefDecl 0x7fc439826730 <line:20:1, col:13> col:13 referenced aligned 'int'
| |-BuiltinType 0x7fc4390265c0 'int'
| `-AlignedAttr 0x7fc439826788 <col:36, col:46> aligned
|   `-IntegerLiteral 0x7fc4398266f8 <col:44> 'int' 64
|-FunctionDecl 0x7fc439826868 <line:21:1, line:39:1> line:22:1 used foo 'void (void)'
| `-CompoundStmt 0x7fc439828f08 <line:23:1, line:39:1>
|   |-DeclStmt 0x7fc439826990 <line:24:3, col:12>
|   | `-VarDecl 0x7fc439826930 <col:3, col:11> col:11 used j 'aligned':'int'
|   |-CallExpr 0x7fc439828b00 <line:34:3, col:8> 'int'
|   | `-ImplicitCastExpr 0x7fc439828ae8 <col:3> 'int (*)()' <FunctionToPointerDecay>
|   |   `-DeclRefExpr 0x7fc439828a98 <col:3> 'int ()' Function 0x7fc439828a00 'bar' 'int ()'
|   |-IfStmt 0x7fc439828c38 <line:35:3, line:36:12>
|   | |-<<<NULL>>>
|   | |-<<<NULL>>>
|   | |-BinaryOperator 0x7fc439828ba8 <line:35:7, col:13> 'int' '!='
|   | | |-ImplicitCastExpr 0x7fc439828b90 <col:7> 'aligned':'int' <LValueToRValue>
|   | | | `-DeclRefExpr 0x7fc439828b28 <col:7> 'aligned':'int' lvalue Var 0x7fc439826930 'j' 'aligned':'int'
|   | | `-UnaryOperator 0x7fc439828b70 <col:12, col:13> 'int' prefix '-'
|   | |   `-IntegerLiteral 0x7fc439828b50 <col:13> 'int' 20
|   | |-CallExpr 0x7fc439828c10 <line:36:5, col:12> 'void'
|   | | `-ImplicitCastExpr 0x7fc439828bf8 <col:5> 'void (*)(void) __attribute__((noreturn))' <FunctionToPointerDecay>
|   | |   `-DeclRefExpr 0x7fc439828bd0 <col:5> 'void (void) __attribute__((noreturn))' Function 0x7fc439825b18 'abort' 'void (void) __attribute__((noreturn))'
|   | `-<<<NULL>>>
|   `-IfStmt 0x7fc439828ed0 <line:37:3, line:38:12>
|     |-<<<NULL>>>
|     |-<<<NULL>>>
|     |-BinaryOperator 0x7fc439828e40 <line:37:7, col:41> 'int' '!='
|     | |-CallExpr 0x7fc439828db0 <col:7, col:36> 'int'
|     | | |-ImplicitCastExpr 0x7fc439828d98 <col:7> 'int (*)(int *, int)' <FunctionToPointerDecay>
|     | | | `-DeclRefExpr 0x7fc439828c70 <col:7> 'int (int *, int)' Function 0x7fc439825d48 'check_int' 'int (int *, int)'
|     | | |-UnaryOperator 0x7fc439828ce8 <col:18, col:19> 'aligned *' prefix '&'
|     | | | `-DeclRefExpr 0x7fc439828c98 <col:19> 'aligned':'int' lvalue Var 0x7fc439826930 'j' 'aligned':'int'
|     | | `-ImplicitCastExpr 0x7fc439828de8 <col:22, col:35> 'int' <IntegralCast>
|     | |   `-UnaryExprOrTypeTraitExpr 0x7fc439828d50 <col:22, col:35> 'unsigned long' alignof
|     | |     `-ParenExpr 0x7fc439828d30 <col:33, col:35> 'aligned':'int' lvalue
|     | |       `-DeclRefExpr 0x7fc439828d08 <col:34> 'aligned':'int' lvalue Var 0x7fc439826930 'j' 'aligned':'int'
|     | `-ImplicitCastExpr 0x7fc439828e28 <col:41> 'aligned':'int' <LValueToRValue>
|     |   `-DeclRefExpr 0x7fc439828e00 <col:41> 'aligned':'int' lvalue Var 0x7fc439826930 'j' 'aligned':'int'
|     |-CallExpr 0x7fc439828ea8 <line:38:5, col:12> 'void'
|     | `-ImplicitCastExpr 0x7fc439828e90 <col:5> 'void (*)(void) __attribute__((noreturn))' <FunctionToPointerDecay>
|     |   `-DeclRefExpr 0x7fc439828e68 <col:5> 'void (void) __attribute__((noreturn))' Function 0x7fc439825b18 'abort' 'void (void) __attribute__((noreturn))'
|     `-<<<NULL>>>
|-FunctionDecl 0x7fc439828a00 <<invalid sloc>> line:34:3 implicit used bar 'int ()'
`-FunctionDecl 0x7fc439828f68 <line:40:1, line:45:1> line:41:1 main 'int ()'
  `-CompoundStmt 0x7fc4398290d0 <line:42:1, line:45:1>
    |-CallExpr 0x7fc439829070 <line:43:3, col:8> 'void'
    | `-ImplicitCastExpr 0x7fc439829058 <col:3> 'void (*)(void)' <FunctionToPointerDecay>
    |   `-DeclRefExpr 0x7fc439829000 <col:3> 'void (void)' Function 0x7fc439826868 'foo' 'void (void)'
    `-ReturnStmt 0x7fc4398290b8 <line:44:3, col:10>
      `-IntegerLiteral 0x7fc439829098 <col:10> 'int' 0
